<!DOCTYPE html>
<html lang="en">

  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Swift Tales 2 - MattArgo.com</title>
    <link rel="stylesheet" href="./style.css">
    <link rel="icon" href="./favicon.ico" type="image/x-icon">

    <script defer src="cta.js"></script>
    <script defer src="footer.js"></script>

  </head>

<body>

<mo-cta></mo-cta>

<main>


<a href="/" class="no-underline" aria-label="Back home">
<div class="close-button button">
<svg viewBox="0 0 20 20" aria-hidden="true" focusable="false" fill="none" xmlns="http://www.w3.org/2000/svg">
<path fill-rule="evenodd" clip-rule="evenodd" d="M9.9877 11.8506L16.0686 17.9314L16.0723 17.9351C16.3175 18.1719 16.6459 18.3029 16.9867 18.3C17.3276 18.297 17.6536 18.1603 17.8947 17.9193C18.1357 17.6782 18.2724 17.3522 18.2754 17.0113C18.2783 16.6705 18.1473 16.3421 17.9105 16.0969L11.826 10.0123L17.9052 3.93311C18.0283 3.81359 18.1267 3.67091 18.1945 3.51312C18.2626 3.35453 18.2985 3.18397 18.3 3.01132M9.9877 11.8506L3.90315 17.9351C3.65797 18.1719 3.32955 18.3029 2.9887 18.3C2.64784 18.297 2.32179 18.1603 2.08077 17.9192C1.83977 17.6782 1.70301 17.3522 1.70002 17.0113C1.69716 16.6705 1.82817 16.3421 2.06489 16.0969L2.06854 16.0931L8.14944 10.0123L2.06485 3.92772C1.82813 3.68255 1.69716 3.35418 1.70001 3.01339C1.703 2.67252 1.83977 2.34638 2.08077 2.10537C2.32178 1.86437 2.64781 1.72761 2.98867 1.72462C3.32956 1.72163 3.65796 1.85268 3.90314 2.08955L3.90687 2.09314L9.9877 8.17404L16.0669 2.09487C16.1864 1.97169 16.3291 1.87332 16.4869 1.80556C16.6455 1.73745 16.816 1.70158 16.9886 1.70002C17.1611 1.69859 17.3325 1.73146 17.4923 1.79686C17.6522 1.86219 17.7973 1.9588 17.9192 2.08077C18.0413 2.20281 18.1378 2.3479 18.2032 2.50771C18.2686 2.66747 18.3015 2.83868 18.3 3.01132"/>
</svg>
</div>
</a>


<h1 class="large-text bold-text spacing-medium-top">Swift Tales 2</h1>       
<p class="sec-text spacing-medium-top">July 2024 — In the next installments I’ll chronologically talk about the two iOS components we shipped in TPL. The first was code-named “context menu”.</p>


<h2 class="bold-text spacing-medium-top">Team and timeline</h2>
<p>I led design and code prototyping. Joseph Kohlmann led engineering. Sergio Cuevas contributed engineering. We completed this work in 1.5 months.</p>


<h2 class="bold-text spacing-medium-top">Punk</h2>
<p>When Dan Mall started working with the team he encouraged us designers to find ways to work as close to engineering as possible.</p>

<p>Until then my style of engineering collaboration was punk—sneaking around expectations to use my coding knowledge to form cross-discipline friendships and make cool stuff happen.</p>

<p>But without the expectation of staying in my lane, in what new ways could I be punk? I thought: If I wanted to get close to code, what if I set aside Figma, the defacto tool for “designers”, altogether?</p>

<h2 class="bold-text spacing-medium-top">Collaboration</h2>
<p>I needed help from Joe and Sergio from the get-go. This is the main stuff they helped me learn:</p>

<ul class="spacing-small-bottom">
    <li>Xcode: Set up a simple preview environment, connect to the iOS-TPL repository, get rid of errors</li>
    <li>GitHub: Get auth tokens, connect to the NYT repository, commit, fetch, pull, push</li>
    <li><a href="https://www.git-tower.com/">Tower</a>: Save myself from Terminal</li>
    <li>SwiftUI basics: How to use our iOS-TPL tokens and who at NYT to ask for advice</li>
    <li>Jetpack Compose: While Android is not a supported library yet, I wanted to at least picture how everything might come together one day</li>
</ul>

<p>But once I could work independently, I still wanted to hang with Joe and Sergio. Dan calls this way of collaborating “hot potato”, where 2-3 independent contributors pass the work between each other live. This was a speedy way to vet ideas and observe engineering life. Engineers are TPL customers at the end of the day.</p>

<p>But they’re not my only customers. I also serve the Brand team, and they may be on the opposite end of the spectrum. Brand must sign off on all of my work, which I honestly love. Not just because they’re awesome people, but because we all want our stuff to look and feel excellent across the Times.</p>

<p>The way I see it, my role as a design/eng hybrid is to convince Brand and Engineering that they want the same things. And my role as an accessibility subject matter expert is to build something that works for everyone.</p>

<p>In the case of context menu, however, little compromise could be had.</p>


<h2 class="bold-text spacing-medium-top">Prototypes</h2>
<p>Okay, maybe I’m a tad clairvoyant. I knew Brand would prefer a fully custom popover menu. ( I did too.)</p>

<p>But through prototyping in Xcode, I learned that anything that requires dynamic positioning based on screen bounds is exceptionally troublesome in SwiftUI. For example, unlike web, I found SwiftUI tends to have stricter parent/child relationship rules. Because context menu needs to orient itself based on plethora factors (e.g. proximity to the element that produces it, overlaying on top of the whole screen), I was in a bind.</p>

<img class="selected-work-image spacing-xsmall-bottom spacing-small-top" src="./assets/swift-tales-2-1.png" />
<p class="sec-text small-text spacing-small-bottom">An example of z index on the web (left) and in SwiftUI (right) with the same parent child relationships. SwiftUI does not override the parent.</p>

<p>Joe felt strongly that, within our timeline, building something custom wasn’t feasible. He also pointed out the future cost of maintaining something potentially fragile and complicated especially when SwiftUI already provides a very similar component, <a href="https://developer.apple.com/documentation/swiftui/menu/">Menu</a>. (And it’s so easy to use).</p>

<p>Through this experience, I helped develop a philosophy the TPL team now tries to stick to:</p>

<ol class="spacing-small-bottom">
<li>Dig into the SwiftUI docs for solutions (and create a prototype).</li>
<li>Test how much can be customized and review with the Brand team (and create a prototype).</li>
<li>If that fails, quickly gauge how difficult it is to go full custom and review it with Brand and iOS engineers (and create a prototype).</li>
<li>Either agree on visual design compromise and lean toward SwiftUI conventions or communicate the time and cost of going full custom and go forth (and create many more prototypes).</li>
</ol>

<p>I love prototypes.</p>

<p>I created an example of a SwiftUI Menu and discovered that the only detail we could adjust were optional icons next to the text (which, after reviewing with Brand, we hoped to avoid using anyway).</p>

<img class="selected-work-image spacing-xsmall-bottom spacing-small-top" src="./assets/swift-tales-2-2.png" />
<p class="sec-text small-text spacing-small-bottom">A SwiftUI menu triggered by an icon-only button.</p>
  
<p>Next, I attempted a fully custom version which required 340 lines of code. Showing Brand the sheer magnitude of the time and effort to go full custom was enough to convince them to stick to Apple’s native Menu.</p>

<img class="selected-work-image spacing-xsmall-bottom spacing-small-top" src="./assets/swift-tales-2-3.png" />
<p class="sec-text small-text spacing-small-bottom">A custom context menu that uses GeometryReader and .fullScreenCover to automatically avoid positioning the menu off the screen.</p>

<p>Reviewing our decision with iOS engineers was very reassuring. I think they were relieved by how creatively and harmoniously we all agreed that sticking to Apple convention was the right choice.</p>


<h2 class="bold-text spacing-medium-top">Summary</h2>
<p>We built nothing!</p>

<p>Instead, with Brand’s approval, we now encourage TPL customers to use Apple’s native Menu in SwiftUI and UIKit.</p>

<p>I made 7 prototypes. I learned a ton about GeometryReader and alignment guides along the way, both of which eventually became useful knowledge for future components.</p>

<p>Yes. I did use Figma to sketch some ideas. I’m a punk, not a masochist! Plus, of course, we needed to offer a nice component for designers.</p>

<img class="selected-work-image spacing-xsmall-bottom spacing-small-top" src="./assets/swift-tales-2-4.png" />
<p class="sec-text small-text spacing-small-bottom">In Figma, an Apple Menu component in with a variant for more list items and a hidden list item subcomponent with a "destructive" red variant.</p>

<p>But when I reflect on this project, I find it hard to think where else Figma would’ve been the best tool. I’ve been thinking a lot about my past years feeling I needed to "break the rules" to work with code. Maybe the punk way was the best way all along.</p>

</main>


<mo-footer></mo-footer>


</body>


</html>